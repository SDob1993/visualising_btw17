View(hashco)
View(hashco)
View(hashtagSearch)
View(hashtagSearch)
colnames(hashco)<-c("Hashtag1","Hashtag2","count")
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>
%select(party,hashtags
hashtagSearch<-twitter_data%>%select(ID,text,twitter.handle,hashtagCount,party)%>%filter(hashtagCount>1)%>%
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>%
select(party,hashtags)
hashtagSearch<-twitter_data%>%select(ID,text,twitter.handle,hashtagCount,party)%>%filter(hashtagCount>1)%>%
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>%
select(party,hashtags)
View(hashtagSearch)
View(hashtagSearch)
hashtagSearch<-twitter_data%>%select(ID,text,twitter.handle,hashtagCount,party)%>%filter(hashtagCount>1)%>%
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>%
select(party,hashtags)%>%spread(hashtags)
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>%
select(party,hashtags)%>%spread(hashtags,party)
hashtagSearch<-twitter_data%>%select(ID,text,twitter.handle,hashtagCount,party)%>%filter(hashtagCount>1)%>%
mutate(hashtags=str_extract(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>%
select(party,hashtags)%>%spread(hashtags,party)
hashtagSearch<-twitter_data%>%select(ID,text,twitter.handle,hashtagCount,party)%>%filter(hashtagCount>1)%>%
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>%
select(party,hashtags)%>%gather(hashtags,party)
View(hashtagSearch)
View(hashtagSearch)
hashtagSearch<-twitter_data%>%select(ID,text,twitter.handle,hashtagCount,party)%>%filter(hashtagCount>1)%>%
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>%
select(party,hashtags)%>%gather(hashtags,party)%>%slice(hashtags)
hashtagSearch<-twitter_data%>%select(ID,text,twitter.handle,hashtagCount,party)%>%filter(hashtagCount>1)%>%
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>%
select(party,hashtags)%>%gather(hashtags,party)%>%slice(hashtags,",")
hashtagSearch<-twitter_data%>%select(ID,text,twitter.handle,hashtagCount,party)%>%filter(hashtagCount>1)%>%
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>%
select(party,hashtags)%>%separate(hashtags,sep=",")
View(hashco)
View(hashco)
View(hashtagSearch)
View(hashtagSearch)
hashtagSearch<-twitter_data%>%select(ID,text,twitter.handle,hashtagCount,party)%>%filter(hashtagCount>1)%>%
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>%
select(party,hashtags)%>%separate(hashtags,into=c("Hashtag1","Hashtag2","Hashtag3"),sep="\\,")
hashtagSearch<-twitter_data%>%select(ID,text,twitter.handle,hashtagCount,party)%>%filter(hashtagCount>1)%>%
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>%
select(party,hashtags)%>%separate(hashtags,into=c("Hashtag1","Hashtag2"),sep="\\,")
hashtagSearch<-twitter_data%>%select(ID,text,twitter.handle,hashtagCount,party)%>%filter(hashtagCount==2)%>%
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>%
select(party,hashtags)%>%separate(hashtags,into=c("Hashtag1","Hashtag2"),sep="\\,")
hashtagSearch<-twitter_data%>%select(ID,text,twitter.handle,hashtagCount,party)%>%filter(hashtagCount==2)%>%
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>%
select(party,hashtags,hashtagCount)
View(topHashtags)
View(topHashtags)
topHashtags<-hashtag_valence_analysis%>%
group_by(party,hashtags,weeksTillElection)%>%
summarise(freq=n())
View(topHashtags)
View(topHashtags)
topHashtags<-topHashtags%>%filter(weeksTillElection<7)%>%filter(hashtags=="a")
topHashtags<-topHashtags%>%ungroup()%>%group_by(party,weeksTillElection)%>%top_n(5)
View(topHashtags)
View(topHashtags)
topHashtags<-topHashtags%>%filter(weeksTillElection<7)%>%filter(hashtags!="a")
topHashtags<-hashtag_valence_analysis%>%
group_by(party,hashtags,weeksTillElection)%>%
summarise(freq=n())
topHashtags<-topHashtags%>%filter(weeksTillElection<7)%>%filter(hashtags!="a")
View(topHashtags)
View(topHashtags)
topHashtags<-topHashtags%>%ungroup()%>%group_by(party,weeksTillElection)%>%top_n(5)
View(topHashtags)
View(topHashtags)
topHashtagsJson<-toJSON(unname(split(topHashtags, 1:nrow(topHashtags))))
write(topHashtagsJson, "topHashtags5.json")
hashtagSearch<-twitter_data%>%select(ID,text,twitter.handle,hashtagCount,party)%>%filter(hashtagCount==2)%>%
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>%unnest()
View(hashtagSearch)
View(hashtagSearch)
hashtagSearch<-twitter_data%>%select(ID,text,twitter.handle,hashtagCount,party)%>%filter(hashtagCount==2)%>%
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>%unnest(hashtags)
View(hashtagSearch)
View(hashtagSearch)
hashtagSearch<-twitter_data%>%select(ID,text,twitter.handle,hashtagCount,party)%>%filter(hashtagCount==2)%>%
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>%
select(party,hashtags,hashtagCount)%>%separate(hashtags,into=c("Hashtag1","Hashtag2"),sep="\\,")
hashtagSearch<-twitter_data%>%select(ID,text,twitter.handle,hashtagCount,party)%>%filter(hashtagCount>2)%>%
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))
View(hashtagSearch)
View(hashtagSearch)
hashtagSearch<-twitter_data%>%select(ID,text,twitter.handle,hashtagCount,party)%>%filter(hashtagCount>1)%>%
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>%
select(party,hashtags,hashtagCount)%>%separate(hashtags,into=c("Hashtag1","Hashtag2","Hashtag3","Hashtag4","Hashtag5"),sep="\\,")
View(hashtagSearch)
View(hashtagSearch)
hashtagSearch<-twitter_data%>%select(ID,text,twitter.handle,hashtagCount,party)%>%filter(hashtagCount>1)%>%
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>%
select(party,hashtags,hashtagCount)%>%separate(hashtags,into=c("Hashtag1","Hashtag2","Hashtag3","Hashtag4","Hashtag5","Hashtag6","Hashtag7","Hashtag8","Hashtag9","Hashtag10","Hashtag11","Hashtag12","Hashtag13","Hashtag14"),sep="\\,")
hashtagsSearchCleaned<-hashtagSearch%>%gsub("\\"\\)
hashtagSearchCleaned<-cleanHashtags(hashtagSearch)
hashtagSearchCleaned
View(hashtagSearch)
View(hashtagSearch)
hashtagSearch<-twitter_data%>%select(ID,text,twitter.handle,hashtagCount,party)%>%filter(hashtagCount>1)%>%
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>%
select(party,hashtags,hashtagCount)%>%separate(hashtags,into=c("Hashtag1","Hashtag2","Hashtag3","Hashtag4","Hashtag5","Hashtag6","Hashtag7","Hashtag8","Hashtag9","Hashtag10","Hashtag11","Hashtag12","Hashtag13","Hashtag14"),sep='"\\,"')
View(hashtagSearch)
View(hashtagSearch)
hashtagSearch<-twitter_data%>%select(ID,text,twitter.handle,hashtagCount,party)%>%filter(hashtagCount>1)%>%
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>%
select(party,hashtags,hashtagCount)%>%separate(hashtags,into=c("Hashtag1","Hashtag2","Hashtag3","Hashtag4","Hashtag5","Hashtag6","Hashtag7","Hashtag8","Hashtag9","Hashtag10","Hashtag11","Hashtag12","Hashtag13","Hashtag14"),sep='\\"\\,\\"')
hashtagSearch<-twitter_data%>%select(ID,text,twitter.handle,hashtagCount,party)%>%filter(hashtagCount>1)%>%
mutate(hashtags=str_extract_all(text,hashtag_pattern))%>%mutate(hashtags=cleanHashtags(hashtags))%>%
select(party,hashtags,hashtagCount)%>%separate(hashtags,into=c("Hashtag1","Hashtag2","Hashtag3","Hashtag4","Hashtag5","Hashtag6","Hashtag7","Hashtag8","Hashtag9","Hashtag10","Hashtag11","Hashtag12","Hashtag13","Hashtag14"),sep="\\,")
View(hashtagSearch)
View(hashtagSearch)
hashtagSearchCleaned<-hashtagSearch%>%mutate(Hashtag1=str_replace(Hashtag1,"c(",""))
hashtagSearchCleaned<-hashtagSearch%>%mutate(Hashtag1=str_replace(Hashtag1,"\\c(",""))
View(hashtagSearchCleaned)
View(hashtagSearchCleaned)
hashtagSearchCleaned<-hashtagSearch%>%mutate(Hashtag1=str_replace(Hashtag1,"c+[^\w\s]+",""))
hashtagSearchCleaned<-hashtagSearch%>%mutate(Hashtag1=str_replace(Hashtag1,"c+[^\\w\\s]+",""))
View(hashtagSearchCleaned)
View(hashtagSearchCleaned)
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag1=str_replace(Hashtag1,"[^\\w\\s]+",""))
View(hashtagSearchCleaned)
View(hashtagSearchCleaned)
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag1=str_replace(Hashtag1,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag1=str_replace(Hashtag1,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearch%>%mutate(Hashtag1=str_replace(Hashtag1,"c+[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag2=str_replace(Hashtag2,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag3=str_replace(Hashtag3,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag4=str_replace(Hashtag4,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag5=str_replace(Hashtag5,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag6=str_replace(Hashtag6,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag7=str_replace(Hashtag7,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag8=str_replace(Hashtag8,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag9=str_replace(Hashtag9,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag10=str_replace(Hashtag10,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag11=str_replace(Hashtag11,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag12=str_replace(Hashtag12,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag13=str_replace(Hashtag13,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag14=str_replace(Hashtag14,"[^\\w\\s]+",""))
View(hashtagSearchCleaned)
View(hashtagSearchCleaned)
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag2=str_replace(Hashtag2,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag3=str_replace(Hashtag3,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag4=str_replace(Hashtag4,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag5=str_replace(Hashtag5,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag6=str_replace(Hashtag6,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag7=str_replace(Hashtag7,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag8=str_replace(Hashtag8,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag9=str_replace(Hashtag9,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag10=str_replace(Hashtag10,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag11=str_replace(Hashtag11,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag12=str_replace(Hashtag12,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag13=str_replace(Hashtag13,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag14=str_replace(Hashtag14,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearch%>%mutate(Hashtag1=str_replace(Hashtag1,"c+[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearch%>%mutate(Hashtag1=str_replace(Hashtag1,"c+[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag2=str_replace(Hashtag2,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag3=str_replace(Hashtag3,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag4=str_replace(Hashtag4,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag5=str_replace(Hashtag5,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag6=str_replace(Hashtag6,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag7=str_replace(Hashtag7,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag8=str_replace(Hashtag8,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag9=str_replace(Hashtag9,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag10=str_replace(Hashtag10,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag11=str_replace(Hashtag11,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag12=str_replace(Hashtag12,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag13=str_replace(Hashtag13,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag14=str_replace(Hashtag14,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearch%>%mutate(Hashtag1=str_replace(Hashtag1,"c+[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag2=str_replace(Hashtag2,"[\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag3=str_replace(Hashtag3,"[\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag4=str_replace(Hashtag4,"[\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag5=str_replace(Hashtag5,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag6=str_replace(Hashtag6,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag7=str_replace(Hashtag7,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag8=str_replace(Hashtag8,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag9=str_replace(Hashtag9,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag10=str_replace(Hashtag10,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag11=str_replace(Hashtag11,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag12=str_replace(Hashtag12,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag13=str_replace(Hashtag13,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag14=str_replace(Hashtag14,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearch%>%mutate(Hashtag1=str_replace(Hashtag1,"c+[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag2=str_replace(Hashtag2,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag3=str_replace(Hashtag3,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag4=str_replace(Hashtag4,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag5=str_replace(Hashtag5,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag6=str_replace(Hashtag6,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag7=str_replace(Hashtag7,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag8=str_replace(Hashtag8,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag9=str_replace(Hashtag9,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag10=str_replace(Hashtag10,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag11=str_replace(Hashtag11,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag12=str_replace(Hashtag12,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag13=str_replace(Hashtag13,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag14=str_replace(Hashtag14,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag2=str_replace(Hashtag2,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag3=str_replace(Hashtag3,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag4=str_replace(Hashtag4,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag5=str_replace(Hashtag5,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag6=str_replace(Hashtag6,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag7=str_replace(Hashtag7,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag8=str_replace(Hashtag8,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag9=str_replace(Hashtag9,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag10=str_replace(Hashtag10,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag11=str_replace(Hashtag11,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag12=str_replace(Hashtag12,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag13=str_replace(Hashtag13,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag14=str_replace(Hashtag14,"[^\\w\\s]+",""))
hashtagSearchCleaned<-hashtagSearchCleaned%>%mutate(Hashtag1=str_replace(Hashtag1,"[^\\w\\s]+",""))
hsmain<-gather(hashtagSearchCleaned,Hashtag1,Hashtag2,-Hashtag1,-Hashtag2)
View(hsmain)
View(hsmain)
hsmain<-gather(hashtagSearchCleaned,Hashtag1,Hashtag2,-party)
View(hsmain)
View(hsmain)
hsmain<-gather(hashtagSearchCleaned,Hashtag1,Hashtag2,-Hashtag1,-Hashtag2,-party)
View(hsmain)
View(hsmain)
hsmain<-gather(hashtagSearchCleaned,Hashtag1,Hashtag2)
hsmain<-rbind(gather(hashtagSearchCleaned,Hashtag2,Hashtag3))
View(hsmain)
View(hsmain)
hsmain<-gather(hashtagSearchCleaned,Hashtag1,Hashtag2)
rbind(hsmain,gather(hashtagSearchCleaned,Hashtag2,Hashtag3))
hsmain<-gather(hashtagSearchCleaned,Hashtag1,Hashtag2)
hsmain<-gather(hashtagSearchCleaned)
hsmain<-gather(hashtagSearchCleaned,Hashtag1,Hashtag2,na.rm = TRUE)
hspre<-hashtagSearchCleaned%>%select("Hashtag1","Hashtag2","Hashtag3","Hashtag4","Hashtag5","Hashtag6","Hashtag7","Hashtag8","Hashtag9","Hashtag10","Hashtag11","Hashtag12","Hashtag13","Hashtag14")
View(hspre)
View(hspre)
hsmain<-gather(hspre,Hashtag1,Hashtag2,na.rm = TRUE)
View(hsmain)
View(hsmain)
hspre12<-hashtagSearchCleaned%>%select("Hashtag1","Hashtag2")
hspre23<-hashtagSearchCleaned%>%select("Hashtag2","Hashtag3")
hspre34<-hashtagSearchCleaned%>%select("Hashtag3","Hashtag4")
View(hspre12)
View(hspre12)
View(hspre23)
View(hspre23)
View(hspre34)
View(hspre34)
hsmain<-gather(hspre,Hashtag1,Hashtag14,na.rm = TRUE)
View(hsmain)
View(hsmain)
hsmain<-gather(hspre,Hashtag1,Hashtag2,2:(ncol(hspre))
rbind(hsmain,gather(hashtagSearchCleaned,Hashtag2,Hashtag3))
hsmain<-gather(hspre,Hashtag1,Hashtag2,2:(ncol(hspre)))
View(hsmain)
View(hsmain)
hsmain%>%filter(!is.na(value))
hsmain<-gather(hspre,Hashtag1,"value",2:(ncol(hspre)))
colnames(hsmain)<-c("Hashtag1","aaa","Hashtag2")
hsmain%>%filter(!is.na(Hashtag2))
hsmain<-hsmain%>%filter(!is.na(Hashtag2))
hsmain%>%select(-aaa)
hsmain<-hsmain%>%select(-aaa)
hsmainfinal<-hsmain%>%summarise(freq=n())
View(hsmainfinal)
View(hsmainfinal)
hsmainfinal<-hsmain%>%goup_by(hashtag1,hashtag2)%>%summarise(freq=n())
hsmainfinal<-hsmain%>%group_by(hashtag1,hashtag2)%>%summarise(freq=n())
hsmainfinal<-hsmain%>%group_by(Hashtag1,Hashtag2)%>%summarise(freq=n())
View(hsmainfinal)
View(hsmainfinal)
hsmainfinal<-hsmain%>%group_by(Hashtag1)%>%summarise(freq=n())
hsmainfinal<-hsmain%>%group_by(Hashtag1)%>%summarise(freq=n())
View(hsmainfinal)
hsmainfinal<-hsmain%>%group_by(Hashtag1,Hashtag2)%>%summarise(freq=n())
hsmain<-gather(hspre,Hashtag1,Hashtag2,2:(ncol(hspre)))
hsmain1<-gather(hspre,Hashtag2,Hashtag3,3:(ncol(hspre)))
hsmain2<-gather(hspre,Hashtag3,Hashtag4,4:(ncol(hspre)))
hsmain3<-gather(hspre,Hashtag4,Hashtag5,5:(ncol(hspre)))
hsmain4<-gather(hspre,Hashtag5,Hashtag6,6:(ncol(hspre)))
hsmain5<-gather(hspre,Hashtag6,Hashtag7,7:(ncol(hspre)))
hsmain6<-gather(hspre,Hashtag7,Hashtag8,8:(ncol(hspre)))
hsmain7<-gather(hspre,Hashtag8,Hashtag9,9:(ncol(hspre)))
hsmain8<-gather(hspre,Hashtag9,Hashtag10,10:(ncol(hspre)))
hsmain9<-gather(hspre,Hashtag10,Hashtag11,11:(ncol(hspre)))
hsmain10<-gather(hspre,Hashtag11,Hashtag12,12:(ncol(hspre)))
hsmain11<-gather(hspre,Hashtag12,Hashtag2,13:(ncol(hspre)))
hsmain12<-gather(hspre,Hashtag13,Hashtag2,14:(ncol(hspre)))
View(hsmain12)
View(hsmain12)
View(hsmain)
View(hsmain)
View(hsmain1)
View(hsmain1)
colnames(hsmain)<-c("Hashtag1","aaa","Hashtag2")
hsmain<-hsmain%>%select(-aaa)
hsmain<-hsmain%>%filter(!is.na(Hashtag2))
View(hsmainfinal)
View(hsmainfinal)
for (i in hsmainfinal){
if(Hashtag1==Hashtag2) and (Hashtag2==Hashtag1){
hsmainfinal%>%mutate(freqnew=freq+freq)
}
}
hsmainfinal2<-colnames(hsmain)<-c("Hashtag2","Hashtag1","freq")
View(hsmainfinal)
View(hsmainfinal)
hsmainfinal2<-colnames(hsmainfinal)<-c("Hashtag2","Hashtag1","freq")
View(hsmainfinal)
View(hsmainfinal)
hsmain<-gather(hspre,Hashtag1,Hashtag2,2:(ncol(hspre)))
View(hsmain)
View(hsmain)
colnames(hsmain)<-c("Hashtag1","aaa","Hashtag2")
hsmain<-hsmain%>%select(-aaa)
hsmain<-hsmain%>%filter(!is.na(Hashtag2))
hsmainfinal<-hsmain%>%group_by(Hashtag1,Hashtag2)%>%summarise(freq=n())
hsmainfinal2<-hsmainfinal
colnames(hsmainfinal2)<-c("Hashtag2","Hashtag1","freq")
View(hsmainfinal)
View(hsmainfinal)
View(hsmainfinal2)
View(hsmainfinal2)
hsmainx<-rbind(hsmainfinal,hsmainfinal2)
View(hsmainx)
View(hsmainx)
hsmainx<-hsmainx%>%group_by(Hashtag1,Hashtag2,freq)%>%summarise()
hsmainx<-hsmainx%>%group_by(Hashtag1,Hashtag2,freq)%>%summarise(freq)
View(hsmainx)
View(hsmainx)
hsmainfinal<-hsmain%>%group_by(Hashtag1,Hashtag2)%>%summarise(freq=n())
hsmainfinal2<-hsmainfinal
colnames(hsmainfinal2)<-c("Hashtag2","Hashtag1","freq")
hsmainx<-left_join(hsmainfinal,hsmainfinal2)
View(hsmainx)
View(hsmainx)
hsmainx<-left_join(hsmainfinal,hsmainfinal2,by="Hashtag1 and Hashtag2")
hsmainx<-left_join(hsmainfinal,hsmainfinal2,by="Hashtag1 AND Hashtag2")
hsmainx<-left_join(hsmainfinal,hsmainfinal2,by="Hashtag1")
View(hsmainx)
View(hsmainx)
colnames(hsmain)<-c("Hashtag1","aaa","Hashtag2")
hsmain<-hsmain%>%select(-aaa)
hsmain<-hsmain%>%filter(!is.na(Hashtag2))
hsmainfinal<-hsmain%>%group_by(Hashtag1,Hashtag2)%>%summarise(freq=n())
hsmainfinal2<-hsmainfinal
colnames(hsmainfinal2)<-c("Hashtag2","Hashtag1","freq")
View(hsmainfinal)
View(hsmainfinal)
View(hsmainfinal2)
View(hsmainfinal2)
hsmain2<-hsmain
colnames(hsmain2)<-c("Hashtag2","Hashtag1","freq")
hsmainy<-rbind(hsmain,hsmain2)
hsmainfinal<-hsmainy%>%group_by(Hashtag1,Hashtag2)%>%summarise(freq=n())
View(hsmainfinal)
View(hsmainfinal)
View(hsmain)
View(hsmain)
View(hsmainy)
View(hsmainy)
colnames(hsmain)<-c("Hashtag1","aaa","Hashtag2")
hsmain<-hsmain%>%select(-aaa)
hsmain<-hsmain%>%filter(!is.na(Hashtag2))
hsmainfinal<-hsmain%>%group_by(Hashtag1,Hashtag2)%>%summarise(freq=n())
View(hsmainfinal)
View(hsmainfinal)
View(hsmainfinal)
View(hsmainfinal)
View(hsmainfinal)
View(hsmainfinal2)
View(hsmainfinal2)
colnames(hsmainfinal2)<-c("Hashtag2","Hashtag1","freq")
hsmainx<-left_join(hsmainfinal,hsmainfinal2,by="Hashtag1==Hashtag2")
hsmainx<-left_join(hsmainfinal,hsmainfinal2,by="Hashtag1")
View(hsmainx)
View(hsmainx)
hsmainx<-left_join(hsmainfinal,hsmainfinal2)
View(hsmainx)
View(hsmainx)
hsmainx<-hsmainfinal%>%intersect(Hashtag1,Hashtag2)
View(hsmainfinal)
View(hsmainfinal)
hsmainx<-intersect(hsmainfinal,hsmainfinal2)
View(hsmainx)
View(hsmainx)
hsmainfinal<-hsmain%>%group_by(Hashtag1,Hashtag2)%>%summarise(freq=n())
View(hsmainfinal)
View(hsmainfinal)
colnames(hsmain2)<-c("Hashtag2","Hashtag1","freq")
View(hsmain2)
View(hsmain2)
colnames(hsmain2)<-c("Hashtag2","Hashtag1","freq")
colnames(hsmain2)<-c("Hashtag2","Hashtag1","freq")
colnames(hsmain2)<-c("Hashtag2","Hashtag1")
View(hsmain3)
hsmain3<-rbind(hsmain,hsmain2)
hsmainfinal<-hsmain3%>%group_by(Hashtag1,Hashtag2)%>%summarise(freq=n())
View(hsmainfinal)
View(hsmainfinal)
hsmainfinal<-hsmain3%>%group_by(Hashtag1,Hashtag2)%>%summarise(freq=n())%>%top_n(5)
View(hsmainfinal)
View(hsmainfinal)
hsmainfinal<-hsmain3%>%group_by(Hashtag1,Hashtag2)%>%summarise(freq=n())%>%top_n(5)
View(hsmainfinal)
View(hsmainfinal)
View(topHashtags)
View(topHashtags)
write(hsmainJson, "hssearch.json")
hsmainJson<-toJSON(unname(split(hsmain, 1:nrow(hsmain))))
write(hsmainJson, "hssearch.json")
hstest<-hsmain%>%spread(Hashtag1)
hstest<-hsmain%>%spread(Hashtag1,Hashtag2)
View(twitter_rtdata)
hstest<-hsmain%>%group_by(Hashtag1)#spread(Hashtag1,Hashtag2)
View(hstest)
View(hstest)
hstest<-hsmain%>%group_by(Hashtag1)%>%spread(Hashtag1,Hashtag2)
hstest<-hsmain%>%group_by(Hashtag1,Hashtag2)%>%spread(Hashtag1,Hashtag2)
hstest<-hsmain%>%order_by(Hashtag1)%>%spread(Hashtag1,Hashtag2)
View(hsmainfinal)
View(hsmainfinal)
hstest<-hsmainfinal%>%spread(Hashtag1,Hashtag2)
hstest<-hsmainfinal%>%group_by(Hashtag1)%>%spread(Hashtag1,Hashtag2)
hstest<-hsmainfinal%>%group_by(Hashtag1)%>%spread(Hashtag2,freq)
hstest<-hsmainfinal%>%group_by(Hashtag1)%>%spread(Hashtag2,freq)
hstest<-hsmainfinal%>%group_by(Hashtag1)%>%filter(freq<1)#%>%spread(Hashtag2,freq)
hstest<-hsmainfinal%>%group_by(Hashtag1)%>%filter(freq>1)#%>%spread(Hashtag2,freq)
View(hstest)
View(hstest)
hstest<-hsmainfinal%>%group_by(Hashtag1)%>%filter(freq>1)%>%spread(Hashtag2,freq)
View(hstest)
View(hstest)
hstest<-hsmainfinal%>%group_by(Hashtag1)%>%filter(freq>1)%>%spread(Hashtag2,Hashtag1)
hstest<-hsmainfinal%>%group_by(Hashtag1)%>%filter(freq>1)%>%spread(Hashtag2,freq)%>%filter(!is.na(Hashtag2))
hstest<-hsmainfinal%>%group_by(Hashtag1)%>%filter(freq>1)%>%spread(Hashtag2,freq)
View(hstest)
View(hstest)
hstest<-hstest%>%filter(!is.na(2:ncol(n:hstest)))
hsmainfinal<-hsmain3%>%group_by(Hashtag1,Hashtag2)%>%summarise(freq=n())%>%top_n(5)
View(hsmainfinal)
View(hsmainfinal)
hsmainfinaltest%>%ungroup()%>%group_by(Hashtag1,Hashtag2)%>%top_n(5)
hsmainfinaltest<-hsmainfinal%>%ungroup()%>%group_by(Hashtag1,Hashtag2)%>%top_n(5)
View(hsmainfinaltest)
View(hsmainfinaltest)
hsmainfinaltest<-hsmainfinal%>%filter(freq>1)
View(hsmainfinal)
View(hsmainfinal)
View(hsmainfinaltest)
View(hsmainfinaltest)
hsmainJson<-toJSON(unname(split(hsmainfinal, 1:nrow(hsmainfinal))))
write(hsmainJson, "hssearch.json")
View(topHashtags)
View(topHashtags)
View(hsmainfinal)
View(hsmainfinal)
hsmain3<-rbind(hsmain,hsmain2)
View(hsmain3)
View(hsmain3)
hsmainfinal<-hsmain3%>%group_by(Hashtag1,Hashtag2)%>%summarise(freq=n())
View(hsmainfinal)
View(hsmainfinal)
hsmainJson<-toJSON(unname(split(hsmainfinal, 1:nrow(hsmainfinal))))
require(tidyverse)
require(stringr)
require(lsa)
source("cleanHashtags.R")
hsmainJson<-toJSON(unname(split(hsmainfinal, 1:nrow(hsmainfinal))))
require(rjson)
hsmainJson<-toJSON(unname(split(hsmainfinal, 1:nrow(hsmainfinal))))
write(hsmainJson, "hssearch.json")
View(hsmainfinal)
View(hsmainfinal)
View(hsmainfinal)
View(hsmainfinal)
View(hsmainfinal)
require(tidyverse)
require(stringr)
require(lsa)
require(rjson)
hsmain<-gather(hspre,Hashtag1,Hashtag2,2:(ncol(hspre)))
View(hsmain)
View(hsmain)
colnames(hsmain)<-c("Hashtag1","aaa","Hashtag2")
hsmain<-hsmain%>%select(-aaa)
hsmain<-hsmain%>%filter(!is.na(Hashtag2))
hsmain2<-hsmain
colnames(hsmain2)<-c("Hashtag2","Hashtag1")
hsmain3<-rbind(hsmain,hsmain2)
View(hsmain3)
View(hsmain3)
hsmainfinal<-hsmain3%>%group_by(Hashtag1,Hashtag2)%>%summarise(freq=n())
hsmainJson<-toJSON(unname(split(hsmainfinal, 1:nrow(hsmainfinal))))
write(hsmainJson, "hssearch.json")
View(prdf)
View(prdf)
rm(cosine_similarity, hashco,hsmain10,hsmain11,hsmain12)
rm(hsmain1,hsmain3,hsmain4,hsmain5,hsmain6,hsmain7,hsmain8,hsmain9)
rm(hsmainfinal2,hsmainx,hsmainy,hspre12,hspre23,hspre34,hstest)
View(rtdf)
View(rtdf)
rm(hsmainfinaltest)
rm(hashtag_valence_analysis)
rm(hashtagSearch)
rm(topHashtags)
rm(twitter_rtdata)
rm(hashtag_valence_analysis)
rm(hashtagSearch)
rm(twitter_data)
rm(twitter_rtdata)
